<body>

<!--===============body================-->
    <main aria-labelledby="main-title" class="home">
        <header class="introduce"><img src="../img/j1logo.jpg" alt="20计1-logo">
            <h1>
                <span id="text" data-text='["20计1", "一个充满智慧的班级", "一个充满正能量的班级"]'></span>
                <span class="mark"></span>
            </h1><br><br>
            <p class="main-text">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;欢迎来到20计1
            </p><br><br>
            <p class="main-button"><a href="#" class="nav-link action-button">
                进入我们班</a></p><br><br><br><br>
        </header>
        <hr><br><br>
        <div class="article">
            <div class="feature">
                <h2>******</h2>
                <p>******************</p>
            </div>
            <div class="feature">
                <h2>*****</h2>
                <p>*******************</p>
            </div>
            <div class="feature">
                <h2>*****</h2>
                <p>*******************</p>
            </div>
        </div>
    </main>

<!--===========header===========-->
    <nav>
        <div class="nav-h">20计1网站</div>
        <ul class="nav-list" type="none">
            <li>
                <a href="index.html">首页</a>
            </li>
            <li>
                <a href="#">text</a>
            </li>
            <li>
                <a href="#">text</a>
            </li>
            <li>
                <a href="#">text</a>
            </li>
            <li>
                <a href="#">text</a>
            </li>
        </ul>
        <div class="burger">
            <div class="top-line"></div>
            <div class="middle-line"></div>
            <div class="bottom-line"></div>
        </div>
    </nav>

<script type="text/javascript">
    console.log("打字效果");
    console.log("制作人:20计1 25 陆睿涵");
    const textEl = document.querySelector("#text");
    const texts = JSON.parse(
        textEl.getAttribute("data-text")
    );

    let index = 0;
    let charIndex = 0;
    let delta = 500;
    let start = null;
    let isDeleting = false;

    function type(time) {
        window.requestAnimationFrame(type);
        if (!start) start = time;
        let progress = time - start;
        if (progress > delta) {
            let text = texts[index];
            if (!isDeleting) {
                textEl.innerHTML = text.slice(
                    0,
                    ++charIndex
                );
                delta = 500 - Math.random() * 400;
            } else {
                textEl.innerHTML = text.slice(
                    0,
                    charIndex--
                );
            }

            start = time;

            if (charIndex === text.length) {
                isDeleting = true;
                delta = 200;
                start = time + 1200;
            }

            if (charIndex < 0) {
                isDeleting = false;
                start = time + 200;
                index = ++index % texts.length;
            }
        }
    }

    window.requestAnimationFrame(type);

</script>
<script type="text/javascript" src="../js/index.js"></script>
</body>

